- defaults:
    link:
      relink: true
    shell:
      stdout: true

- clean: ['~']

- link:
    ~/.config/alacritty/alacritty.yml:
      create: true
      path: alacritty/alacritty.yml

    ~/.config/bat/config:
      create: true
      path: bat/bat.conf

    ~/.docker/cli-plugins/docker-buildx:
      if: '[ $(uname) = Darwin ]'
      create: true
      path: /opt/homebrew/opt/docker-buildx/bin/docker-buildx
    ~/.docker/cli-plugins/docker-compose:
      if: '[ $(uname) = Darwin ]'
      create: true
      path: /opt/homebrew/opt/docker-compose/bin/docker-compose

    ~/.config/doom/config.el:
      create: true
      path: doom/config.el
    ~/.config/doom/init.el:
      create: true
      path: doom/init.el
    ~/.config/doom/packages.el:
      create: true
      path: doom/packages.el

    ~/.config/git/config:
      create: true
      path: git/gitconfig
    ~/.config/git/config-local:
      create: true
      path: git/gitconfig-local
    ~/.config/git/ignore:
      create: true
      path: git/gitignore-global

    ~/.config/pip/pip.conf:
      create: true
      path: pip/pip.conf
    ~/.ptpython/config.py:
      create: true
      path: ptpython/config.py

    ~/.config/ocamlformat:
      create: true
      path: ocaml/ocamlformat
    ~/.ocp/ocp-indent.conf:
      create: true
      path: ocaml/ocp-indent.conf

    ~/.spacemacs.d/init.el:
      create: true
      path: spacemacs/init.el
    ~/.spacemacs.d/local-example.el:
      create: true
      path: spacemacs/local-example.el

    ~/.config/tmux/tmux.conf:
      create: true
      path: tmux/tmux.conf

    ~/.config/utop/init.ml:
      create: true
      path: utop/init.ml
    ~/.utoprc: utop/utoprc

    ~/.vimrc: vim/vimrc.vim
    ~/.config/nvim/init.vim:
      create: true
      path: vim/vimrc.vim

    ~/.yarnrc.yml: yarn/yarnrc.yml

    ~/.hushlogin: zsh/hushlogin
    ~/.inputrc: zsh/inputrc
    ~/.zshenv: zsh/zshenv.zsh
    ~/.config/zsh/.zprofile:
      create: true
      path: zsh/zprofile.zsh
    ~/.config/zsh/.zshrc:
      create: true
      path: zsh/zshrc.zsh
    ~/.config/zsh/zsh-plugins.txt:
      create: true
      path: zsh/zsh-plugins.txt

- shell:
    - command: git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm || true
      description: Cloning Tmux Plugin Manager
    - command: >-
        curl -fLo ~/.vim/autoload/plug.vim --create-dirs
        https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
      description: Cloning vim-plug
    - command: antibody bundle < ~/.config/zsh/zsh-plugins.txt > ~/.config/zsh/zsh-plugins.sh
      description: Static loading Antibody plugins
    - >-
        echo 'Set zsh as your login shell: chsh -s "$(which zsh)"'
    - >-
        echo 'You may need to add zsh to /etc/shells.'

- brewfile:
    file: homebrew/Brewfile
    stdout: true
    stderr: true

- asdf:
    - plugin: java
      url: https://github.com/halcyon/asdf-java.git
      global: openjdk-19.0.2
      versions:
        - openjdk-19.0.2
    - plugin: nodejs
      url: https://github.com/asdf-vm/asdf-nodejs.git
      global: 18.14.1
      versions:
        - 18.14.1
    - plugin: python
      url: https://github.com/asdf-community/asdf-python.git
      global: 3.11.2
      versions:
        - 3.10.10
        - 3.11.2
    - plugin: ruby
      url: https://github.com/asdf-vm/asdf-ruby.git
      global: 3.2.1
      versions:
        - 3.2.1
